---
import NavLink from './NavLink.astro';

interface Props {
  isOpen: boolean;
}

const { isOpen } = Astro.props;
---

<div
  class:list={[
    "fixed inset-y-0 right-0 w-64 bg-white/10 backdrop-blur-lg border-l border-white/20 shadow-2xl transform transition-transform duration-300 ease-in-out lg:hidden",
    isOpen ? "translate-x-0" : "translate-x-full"
  ]}
>
  <nav class="flex flex-col p-6 space-y-4">
    <NavLink href="/" active>Home</NavLink>
    <NavLink href="/news">News</NavLink>
    <NavLink href="/analysis">Analysis</NavLink>
    <NavLink href="/scores">Scores</NavLink>
    <NavLink href="/teams">Teams</NavLink>
  </nav>
</div>

<script>
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.querySelector('[data-mobile-menu]');
  
  mobileMenuBtn?.addEventListener('click', () => {
    const isOpen = mobileMenu?.classList.contains('translate-x-0');
    if (isOpen) {
      mobileMenu?.classList.remove('translate-x-0');
      mobileMenu?.classList.add('translate-x-full');
    } else {
      mobileMenu?.classList.remove('translate-x-full');
      mobileMenu?.classList.add('translate-x-0');
    }
  });
</script>